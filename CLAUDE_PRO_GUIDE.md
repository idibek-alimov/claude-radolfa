# üöÄ Claude Code Pro Guide: Radolfa Edition

Welcome to the big leagues. You are building a complex **Hexagonal Monolith** with a **Feature-Sliced Frontend**. Standard prompting won't cut it. Here is how to use Claude Code like a Semantic Architect.

## 1. The "Prompt-Driven Development" Workflow (You are doing it right!)
You have a `prompts/` directory (`00_master_plan.md` etc.). **This is the #1 Pro Strategy.**
- **Context Isolation:** By running one prompt file at a time, you prevent Claude from "hallucinating" or getting confused by too much context.
- **Replayability:** If a step fails, you revert git and re-run the prompt.

**Pro Command:**
```bash
# Don't just paste text. Pipe the file content (conceptually) or point Claude to it.
claude "Read prompts/01_backend_foundation.md and execute it. Don't ask for permission for file creation, just go."
```

## 2. Agent Orchestration: Who does what?

You have access to different "modes" or "agents". Use them correctly to avoid frustration.

### üß† The Main Agent (Your Lead Developer)
**Role:** Architecture, Logic, implementation of strict patterns.
**When to use:**
- Creating Java Domain entities (`tj.radolfa.domain`).
- implementing Spring Batch jobs.
- Refactoring `widgets` in Next.js.
**Pro Tip:** ALWAYS reference `CLAUDE.md` in your prompt if you feel it's drifting.
> "Implement the ProductService following the constraints in CLAUDE.md strictly."

### üåê The Browser Subagent (Your QA Engineer)
**Role:** Visual verification, Integration testing, "Click-testing".
**When to use:**
- *After* the Main Agent finishes the Frontend Setup.
- "Open localhost:3000 and verify that the 'Add to Cart' button actually increases the counter."
- "Go to the mobile view (375px width) and check if the navbar collapses correctly."
**Why:** The Main Agent *guesses* CSS behavior. The Browser Agent *sees* it.

### üíª The Terminal (Your DevOps Engineer)
**Role:** Running builds, tests, and docker commands.
**When to use:**
- "Run ./mvnw test and fix any compilation errors."
- "Check if the docker containers are healthy using `docker ps`."

## 3. Recommended Skills to Add
You already have `fsd-gen`, which is great. Add these to `.claude/skills` to enforce your specific constraints.

### üõ°Ô∏è Skill 1: `arch-guard` (Architecture Police)
**Problem:** It is easy to accidentally import `infrastructure` code into the `domain` layer in Java.
**Solution:** Create a skill that runs a grep check.
- **Name:** `arch-guard`
- **Instruction:** "Run a grep search to ensure no files in `src/main/java/tj/radolfa/domain` contain imports from `org.springframework` or `tj.radolfa.infrastructure`. If found, listed them and stop."
**Usage:** Run this before every commit.

### üß™ Skill 2: `fsd-lint` (Frontend Structure)
**Problem:** FSD rules (Dependencies must flow downwards) are hard to keep in your head.
**Solution:** A skill that checks imports.
- **Name:** `fsd-lint`
- **Instruction:** "Check `src/features` to ensure they DO NOT import from `src/widgets` or `src/pages`. Check `src/shared` to ensure it DOES NOT import from anywhere else."

### üîå Skill 3: `erp-mock` (Data Simulator)
**Problem:** You don't always have a live ERPNext instance running.
**Solution:** A skill that generates specific JSON mock files for your `erp-sync` tests.
- **Name:** `erp-mock`
- **Instruction:** "Generate a `products.json` file in `src/test/resources/mock-erp` reflecting the structure defined in `ImplPlan.md` Section 3.1."

## 4. Context Management: The `CLAUDE.md` File
Your `CLAUDE.md` is excellent. It acts as a "System Prompt Injection".
- **Keep it Updated:** If you change a generic rule (e.g., "We switched from JUnit 4 to 5"), UPDATE `CLAUDE.md`. Don't just tell the current session.
- **Reference it:** When opening a new session, you can say: "Read CLAUDE.md and strictly follow the Backend Architecture rules."

## 5. Summary Checklist for a Pro Session
1. **Start Fresh:** `claude` (New session for new task).
2. **Load Context:** "Read CLAUDE.md and prompts/02_erp_sync.md".
3. **Execute:** Let it write the code.
4. **Verify (Terminal):** "Run ./mvnw test".
5. **Verify (Browser):** "Open localhost:3000/products and screenshot the grid."
6. **Commit:** "Git commit -m 'feat: erp sync logic'".

*Generated by Antigravity*
